<!Doctype html>
<html>

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Logan McCaul</title>
  <link rel="preload" href="typefaces/bitter-latin-300-normal.woff2" as="font" type="font/woff2"
    crossorigin="anonymous" />
  <link rel="preload" href="typefaces/bitter-latin-400-normal.woff2" as="font" type="font/woff2"
    crossorigin="anonymous" />
  <link rel="preload" href="typefaces/bitter-latin-600-normal.woff2" as="font" type="font/woff2"
    crossorigin="anonymous" />
  <link rel="icon" type="image/png" sizes="32x32" href="../images/favicon-32x32.png">
  <link href="../styles.css" rel="stylesheet" />
  <link href="article-animation.css" rel="stylesheet" />
</head>

<body>
  <header>
    <a href="../index.html" class="regular">Logan McCaul</a>
  </header>
  <main style="background: var(--article-code);">
    <article>
      <h1>View Transition API</h1>
      <time datetime="2025-07-08">July 8th, 2025</time>
      <section>
        <p>
          If you are reading this on any browser besides Firefox (Firefox is my browser of choice) then you may be
          surprised there isn't any JS handling page transitions. If you click on my name at the top of this article
          you'll see this page slide out to the left and the homepage slide in behind it. You just navigated to a new
          page. Not like in the SPA way, well like in the SPA way, but only visually.
        </p>
        <p>
          This site uses the <a target="_blank"
            href="https://developer.mozilla.org/en-US/docs/Web/API/View_Transition_API">view transition API</a> to
          animate page loads. Using CSS you can define a transition out and a transition in animation for any element on
          the page. I have two. One is in my <code class="inline">styles.css</code> file that enables view transitions
          and
          handles the slide left of the articles on navigation.
          <code>
              /* Enables view transitions on this page */<br />
              /* Must also nbe included on the navigating page */<br />
              @view-transition {<br />
                &nbsp;navigation: auto;<br />
              }<br />
              <br />
              /* Removes transitions for those that prefer reduced motion */<br />
              @media (prefers-reduced-motion: reduce) {<br />
                &nbsp;@view-transition {<br />
                  &nbsp;&nbsp;navigation: none;<br />
                  &nbsp;}<br />
              }<br />
              <br />
              @keyframes slideOutLeft {<br />
                &nbsp;from {<br />
                  &nbsp;&nbsp;transform: translateX(0%);<br />
                  &nbsp;}<br />
                  &nbsp;to {<br />
                    &nbsp;&nbsp;transform: translateX(-100%);<br />
                  &nbsp;}<br />
              }<br />
              <br />
              @keyframes slideInLeft {<br />
                &nbsp;from {<br />
                  &nbsp;&nbsp;transform: translateX(100%);<br />
                &nbsp;}<br />
                &nbsp;to {<br />
                    &nbsp;&nbsp;transform: translateX(0%);<br />
                &nbsp;}<br />
              }
              <br />
              ::view-transition-group(root) {<br />
                &nbsp;animation-duration: .25s;<br />
                &nbsp;animation-timing-function: ease-in-out;<br />
              }<br />
              <br />
              ::view-transition-old(root) {<br />
                &nbsp;animation-name: slideOutLeft;<br />
              }<br />
              <br />
              ::view-transition-new(root) {<br />
                &nbsp;animation-name: slideInLeft;<br />
              }<br />
            </code>
        </p>
        <p>
          The <code class="inline">styles.css</code> file is loaded on every page and contains the base level element
          styles. So every page will slide left on navigation unless overridden. If you navigate back to an article
          you'll notice that they slide up instead of left. This is because articles contain an additional file, <code
            class="inline">article-animation.css</code> that overrides the base slide left animation with a slide up
          animation.
          <code>
              @keyframes slideOutUp {<br />
                &nbsp;from {<br />
                  &nbsp;&nbsp;transform: translateY(0%);<br />
                &nbsp;}<br />
                &nbsp;to {<br />
                  &nbsp;&nbsp;transform: translateY(-100%);<br />
                &nbsp;}<br />
              }<br />
              <br />
              @keyframes slideInUp {<br />
                &nbsp;from {<br />
                  &nbsp;&nbsp;transform: translateY(100%);<br />
                &nbsp;}<br />
                &nbsp;to {<br />
                    &nbsp;&nbsp;transform: translateY(0%);<br />
                  &nbsp;}<br />
              }<br />
              <br />
              ::view-transition-old(root) {<br />
                &nbsp;animation-name: slideOutUp;<br />
              }<br />
              <br />
              ::view-transition-new(root) {<br />
                &nbsp;animation-name: slideInUp;<br />
              }
            </code>
        </p>
        <p>
          On this page we override the slide left animations with the slide up animations yet if I click a link back to
          the homepage the article slides left. This, to me, is the trickiest part of the view transition API.
        </p>
        <p>
          The view transition API works by taking a snapshop of the animated element and keeping that element rendered
          on the DOM when the new page loads. In both of our examples the element we reference is <code
            class="inline">root</code> which refers to the entire DOM. So when you navigate back to the homepage the
          article DOM remains rendered, but the only view transition CSS code remaining is the slide left one.
        </p>
        <p>
          The suffixes <code class="inline">-old</code> and <code class="inline">-new</code> refer to the old and new
          DOMs. Or specifically in this case, <code class="inline">::view-transition-old(root)</code> in <code
            class="inline">styles.css</code> refers to the article DOM that is still rendered when the homepage loads.
          The article DOM and the homepage then animate at the same time giving the appearance that the new page is
          sliding in.
        </p>
        <p>
          In reality you just followed a link like you would on any website. MDN (ironically) has some great docs on <a
            target="_blank"
            href="https://developer.mozilla.org/en-US/docs/Web/API/View_Transition_API/Using#basic_mpa_view_transition">multipage
            app view transitions</a> if you are interested in learning more.
        </p>
      </section>
    </article>
  </main>
  <footer>
    <p>
      To learn more about me and my work, contact me by
      <a href="mailto:loganmccaul@gmail.com">email</a> or add me on
      <a target="_blank" href="https://www.linkedin.com/in/logan-mccaul-12460b68">LinkedIn</a>.
    </p>
  </footer>
</body>

</html>